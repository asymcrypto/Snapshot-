<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ViralizeLab - AI-Powered Carousel Creator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --accent: #f72585;
            --success: #4cc9f0;
            --warning: #f8961e;
            --light: #f8f9fa;
            --dark: #212529;
            --twitter: #1da1f2;
            --linkedin: #0077b5;
            --meeting: #7209b7;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--dark);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Auth Modals */
        .auth-modal, .payment-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }
        
        .auth-modal.active, .payment-modal.active {
            display: flex;
        }
        
        .auth-content, .payment-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        
        .auth-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 2px solid #eee;
        }
        
        .auth-tab {
            flex: 1;
            text-align: center;
            padding: 15px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: 600;
        }
        
        .auth-tab.active {
            border-bottom-color: var(--primary);
            color: var(--primary);
        }
        
        .auth-form {
            display: none;
        }
        
        .auth-form.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Payment Plans */
        .payment-plans {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .payment-plan {
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .payment-plan:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
        }
        
        .payment-plan.selected {
            border-color: var(--primary);
            background: var(--light);
        }
        
        .plan-credits {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .plan-price {
            font-size: 1.1rem;
            color: var(--dark);
            margin-bottom: 10px;
        }
        
        .crypto-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        
        .crypto-option {
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .crypto-option:hover {
            border-color: var(--primary);
        }
        
        .crypto-option.selected {
            border-color: var(--primary);
            background: var(--light);
        }
        
        .crypto-icon {
            font-size: 1.5rem;
            margin-bottom: 8px;
        }
        
        /* Header & Navigation */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px 40px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: slideDown 0.8s ease;
        }
        
        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            width: 50px;
            height: 50px;
            background: var(--primary);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }
        
        h1 {
            font-size: 2.8rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: var(--primary);
            font-weight: 500;
        }
        
        .nav-links {
            display: flex;
            gap: 25px;
            align-items: center;
        }
        
        .nav-link {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            background: var(--light);
            color: var(--primary);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .credits-badge {
            background: var(--success);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .credits-badge:hover {
            background: #3aa8d0;
            transform: translateY(-2px);
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
        }
        
        /* Stats Bar */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: var(--dark);
            font-size: 0.9rem;
        }
        
        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
        }
        
        .carousel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }
        
        .carousel-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .carousel-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .carousel-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--accent);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .free-badge {
            background: var(--success);
        }
        
        .carousel-header {
            padding: 25px;
            color: white;
            text-align: center;
            font-weight: bold;
            font-size: 1.4rem;
        }
        
        .twitter-header { background: var(--twitter); }
        .linkedin-header { background: var(--linkedin); }
        .meeting-header { background: var(--meeting); }
        
        .carousel-body {
            padding: 25px;
            min-height: 220px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .carousel-features {
            list-style: none;
            margin-bottom: 20px;
        }
        
        .carousel-features li {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .carousel-features i {
            color: var(--success);
        }
        
        .carousel-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: var(--light);
            color: var(--dark);
            border: 1px solid #ddd;
        }
        
        .btn-secondary:hover {
            background: #e9ecef;
        }
        
        /* Sidebar */
        .sidebar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            height: fit-content;
        }
        
        .sidebar-title {
            font-size: 1.3rem;
            color: var(--secondary);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
        }
        
        .recent-activity {
            list-style: none;
        }
        
        .activity-item {
            padding: 15px;
            border-left: 3px solid var(--primary);
            background: var(--light);
            margin-bottom: 15px;
            border-radius: 0 8px 8px 0;
        }
        
        .activity-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .activity-time {
            font-size: 0.8rem;
            color: #666;
        }
        
        /* Customization Panel */
        .customization-panel {
            position: fixed;
            top: 0;
            right: -600px;
            width: 600px;
            height: 100vh;
            background: white;
            box-shadow: -5px 0 30px rgba(0,0,0,0.2);
            transition: right 0.4s ease;
            z-index: 1000;
            overflow-y: auto;
        }
        
        .customization-panel.active {
            right: 0;
        }
        
        .panel-header {
            background: var(--primary);
            color: white;
            padding: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .panel-title {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }
        
        .close-btn:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .panel-body {
            padding: 30px;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--dark);
        }
        
        input, select, textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1rem;
            transition: border 0.3s ease;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        .theme-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 10px;
        }
        
        .theme-option {
            height: 80px;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .theme-option:hover {
            transform: scale(1.05);
        }
        
        .theme-option.selected::after {
            content: '✓';
            position: absolute;
            top: 5px;
            right: 5px;
            background: white;
            color: var(--primary);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }
        
        .preview-container {
            margin-top: 30px;
            border: 2px dashed #e9ecef;
            border-radius: 15px;
            padding: 25px;
            background: var(--light);
        }
        
        .preview-title {
            text-align: center;
            margin-bottom: 20px;
            color: var(--secondary);
            font-size: 1.3rem;
        }
        
        .carousel-preview-slide {
            height: 250px;
            background: white;
            border-radius: 12px;
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            position: relative;
            transition: all 0.3s ease;
        }
        
        .slide-number {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--primary);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
        }
        
        .carousel-preview-slide h3 {
            margin-bottom: 15px;
            color: var(--secondary);
            font-size: 1.4rem;
        }
        
        .carousel-preview-slide p {
            text-align: center;
            line-height: 1.6;
            font-size: 1.1rem;
        }
        
        .user-name {
            margin-top: 15px;
            font-weight: bold;
            color: var(--accent);
            font-size: 1rem;
        }
        
        .action-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 2px solid #e9ecef;
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background: #3aa8d0;
            transform: translateY(-2px);
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }
        
        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 40px 20px;
            color: white;
            margin-top: 60px;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
        }
        
        .footer-link {
            color: white;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .footer-link:hover {
            color: var(--success);
        }
        
        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            display: none;
        }
        
        .overlay.active {
            display: block;
        }
        
        /* Responsive */
        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                order: -1;
            }
        }
        
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .carousel-grid {
                grid-template-columns: 1fr;
            }
            
            .customization-panel {
                width: 100%;
                right: -100%;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Auth Modals -->
    <div class="auth-modal" id="authModal">
        <div class="auth-content">
            <div class="auth-tabs">
                <div class="auth-tab active" data-tab="login">Login</div>
                <div class="auth-tab" data-tab="signup">Sign Up</div>
            </div>
            
            <div class="auth-form active" id="loginForm">
                <h3>Welcome Back</h3>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="loginEmail" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" placeholder="Enter your password">
                </div>
                <button class="btn btn-primary" id="loginBtn" style="width: 100%; margin-bottom: 15px;">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
                <button class="btn btn-outline" id="googleLoginBtn" style="width: 100%;">
                    <i class="fab fa-google"></i> Continue with Google
                </button>
            </div>
            
            <div class="auth-form" id="signupForm">
                <h3>Create Account</h3>
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" id="signupName" placeholder="Enter your full name">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="signupEmail" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="signupPassword" placeholder="Create a password">
                </div>
                <button class="btn btn-primary" id="signupBtn" style="width: 100%; margin-bottom: 15px;">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>
                <button class="btn btn-outline" id="googleSignupBtn" style="width: 100%;">
                    <i class="fab fa-google"></i> Continue with Google
                </button>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="payment-modal" id="paymentModal">
        <div class="payment-content">
            <h2 style="text-align: center; margin-bottom: 20px; color: var(--secondary);">
                <i class="fas fa-coins"></i> Buy Credits
            </h2>
            <p style="text-align: center; margin-bottom: 20px; color: #666;">
                Get more credits to unlock premium features and create unlimited carousels
            </p>
            
            <div class="payment-plans">
                <div class="payment-plan" data-credits="10" data-price="10">
                    <div class="plan-credits">10 Credits</div>
                    <div class="plan-price">$10 USD</div>
                    <small>Best for starters</small>
                </div>
                <div class="payment-plan" data-credits="25" data-price="20">
                    <div class="plan-credits">25 Credits</div>
                    <div class="plan-price">$20 USD</div>
                    <small>Most popular</small>
                </div>
                <div class="payment-plan" data-credits="50" data-price="35">
                    <div class="plan-credits">50 Credits</div>
                    <div class="plan-price">$35 USD</div>
                    <small>Best value</small>
                </div>
            </div>
            
            <div class="form-group">
                <label>Select Payment Method</label>
                <div class="crypto-options">
                    <div class="crypto-option" data-method="usdc">
                        <div class="crypto-icon">
                            <i class="fab fa-bitcoin"></i>
                        </div>
                        <div>USDC</div>
                    </div>
                    <div class="crypto-option" data-method="usdt">
                        <div class="crypto-icon">
                            <i class="fab fa-ethereum"></i>
                        </div>
                        <div>USDT</div>
                    </div>
                    <div class="crypto-option" data-method="btc">
                        <div class="crypto-icon">
                            <i class="fab fa-btc"></i>
                        </div>
                        <div>Bitcoin</div>
                    </div>
                    <div class="crypto-option" data-method="eth">
                        <div class="crypto-icon">
                            <i class="fab fa-ethereum"></i>
                        </div>
                        <div>Ethereum</div>
                    </div>
                </div>
            </div>
            
            <div class="payment-details" id="paymentDetails" style="display: none;">
                <div class="form-group">
                    <label>Send exactly:</label>
                    <input type="text" id="cryptoAmount" readonly style="background: #f8f9fa; font-weight: bold;">
                </div>
                <div class="form-group">
                    <label>To wallet address:</label>
                    <div style="display: flex; gap: 10px;">
                        <input type="text" id="walletAddress" readonly style="background: #f8f9fa; flex: 1;">
                        <button class="btn btn-outline" id="copyAddressBtn">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <label>Payment Status:</label>
                    <div id="paymentStatus" style="padding: 10px; border-radius: 8px; background: #fff3cd; color: #856404;">
                        <i class="fas fa-clock"></i> Waiting for payment...
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-outline" id="cancelPaymentBtn">
                    <i class="fas fa-times"></i> Cancel
                </button>
                <button class="btn btn-success" id="confirmPaymentBtn" disabled>
                    <i class="fas fa-check"></i> Confirm Payment
                </button>
            </div>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>
    
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <div>
                    <h1>ViralizeLab</h1>
                    <p class="subtitle">AI-Powered Content Creation Platform</p>
                </div>
            </div>
            <div class="nav-links">
                <a href="#" class="nav-link"><i class="fas fa-home"></i> Home</a>
                <a href="#" class="nav-link"><i class="fas fa-magic"></i> Templates</a>
                <a href="#" class="nav-link"><i class="fas fa-chart-line"></i> Analytics</a>
                
                <!-- User Area - Shows when logged in -->
                <div class="user-info" id="userInfo" style="display: none;">
                    <div class="credits-badge" id="creditsBadge">
                        <i class="fas fa-coins"></i>
                        <span id="userCredits">0</span> Credits
                    </div>
                    <div class="user-avatar" id="userAvatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
                
                <!-- Login Button - Shows when logged out -->
                <button class="btn btn-primary" id="loginButton" style="display: block;">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </div>
        </header>
        
        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-number" id="freeCredits">5</div>
                <div class="stat-label">Free Credits Available</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">98%</div>
                <div class="stat-label">User Satisfaction</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">3.2M</div>
                <div class="stat-label">Impressions Generated</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">24/7</div>
                <div class="stat-label">AI Support</div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="carousel-grid">
                <div class="carousel-card">
                    <div class="carousel-badge free-badge">FREE</div>
                    <div class="carousel-header twitter-header">
                        <i class="fab fa-twitter"></i> Twitter Carousel
                    </div>
                    <div class="carousel-body">
                        <ul class="carousel-features">
                            <li><i class="fas fa-check"></i> Optimized for Twitter feed</li>
                            <li><i class="fas fa-check"></i> Engagement-boosting layouts</li>
                            <li><i class="fas fa-check"></i> Hashtag suggestions</li>
                            <li><i class="fas fa-check"></i> Thread conversion</li>
                        </ul>
                        <div class="carousel-actions">
                            <button class="btn btn-secondary"><i class="fas fa-eye"></i> Preview</button>
                            <button class="btn btn-primary customize-btn" data-type="twitter" data-credits="0" data-free="true">
                                <i class="fas fa-paint-brush"></i> Create Free
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="carousel-card">
                    <div class="carousel-header linkedin-header">
                        <i class="fab fa-linkedin"></i> LinkedIn Visuals
                    </div>
                    <div class="carousel-body">
                        <ul class="carousel-features">
                            <li><i class="fas fa-check"></i> Professional templates</li>
                            <li><i class="fas fa-check"></i> Industry-specific designs</li>
                            <li><i class="fas fa-check"></i> Company branding</li>
                            <li><i class="fas fa-check"></i> Analytics integration</li>
                        </ul>
                        <div class="carousel-actions">
                            <button class="btn btn-secondary"><i class="fas fa-eye"></i> Preview</button>
                            <button class="btn btn-primary customize-btn" data-type="linkedin" data-credits="1">
                                <i class="fas fa-paint-brush"></i> Create (1 Credit)
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="carousel-card">
                    <div class="carousel-badge">PREMIUM</div>
                    <div class="carousel-header meeting-header">
                        <i class="fas fa-users"></i> Meeting Summary
                    </div>
                    <div class="carousel-body">
                        <ul class="carousel-features">
                            <li><i class="fas fa-check"></i> Automated summaries</li>
                            <li><i class="fas fa-check"></i> Action item tracking</li>
                            <li><i class="fas fa-check"></i> Team collaboration</li>
                            <li><i class="fas fa-check"></i> Export to PDF/PPT</li>
                        </ul>
                        <div class="carousel-actions">
                            <button class="btn btn-secondary"><i class="fas fa-eye"></i> Preview</button>
                            <button class="btn btn-primary customize-btn" data-type="meeting" data-credits="2">
                                <i class="fas fa-paint-brush"></i> Create (2 Credits)
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="sidebar">
                <h3 class="sidebar-title">Recent Activity</h3>
                <ul class="recent-activity" id="recentActivity">
                    <li class="activity-item">
                        <div class="activity-title">Welcome to ViralizeLab!</div>
                        <div class="activity-time">You have <span id="freeCreditsCount">5</span> free credits</div>
                    </li>
                </ul>
                
                <h3 class="sidebar-title" style="margin-top: 30px;">Credits Store</h3>
                <div class="activity-item">
                    <div class="activity-title">Get More Credits</div>
                    <div class="activity-time">$1 = 1 Credit • Crypto Payments</div>
                    <button class="btn btn-success" id="buyCreditsBtn" style="width: 100%; margin-top: 10px;">
                        <i class="fas fa-shopping-cart"></i> Buy Credits
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="customization-panel" id="customizationPanel">
        <div class="panel-header">
            <h2 class="panel-title" id="panelTitle">Customize Carousel</h2>
            <button class="close-btn" id="closePanel">&times;</button>
        </div>
        
        <div class="panel-body">
            <div class="credits-info" style="background: var(--light); padding: 15px; border-radius: 10px; margin-bottom: 20px; display: none;" id="creditsInfo">
                <i class="fas fa-info-circle"></i> <span id="creditsMessage">This is a free carousel creation</span>
            </div>
            
            <div class="form-group">
                <label for="userName"><i class="fas fa-user"></i> Your Name</label>
                <input type="text" id="userName" placeholder="Enter your name to display on carousel">
            </div>
            
            <div class="form-group">
                <label for="carouselTitle"><i class="fas fa-heading"></i> Carousel Title</label>
                <input type="text" id="carouselTitle" placeholder="Enter carousel title">
            </div>
            
            <div class="form-group">
                <label for="carouselStyle"><i class="fas fa-palette"></i> Design Style</label>
                <select id="carouselStyle">
                    <option value="modern">Modern & Clean</option>
                    <option value="professional">Professional</option>
                    <option value="creative">Creative & Bold</option>
                    <option value="minimal">Minimalist</option>
                </select>
            </div>
            
            <div class="form-group">
                <label><i class="fas fa-fill-drip"></i> Color Theme</label>
                <div class="theme-options">
                    <div class="theme-option selected" data-theme="blue" style="background: linear-gradient(135deg, #4361ee, #3a0ca3);">Blue</div>
                    <div class="theme-option" data-theme="teal" style="background: linear-gradient(135deg, #4cc9f0, #4895ef);">Teal</div>
                    <div class="theme-option" data-theme="purple" style="background: linear-gradient(135deg, #7209b7, #560bad);">Purple</div>
                    <div class="theme-option" data-theme="sunset" style="background: linear-gradient(135deg, #f72585, #b5179e);">Sunset</div>
                    <div class="theme-option" data-theme="forest" style="background: linear-gradient(135deg, #2a9d8f, #264653);">Forest</div>
                    <div class="theme-option" data-theme="fire" style="background: linear-gradient(135deg, #f8961e, #e36414);">Fire</div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="carouselContent"><i class="fas fa-align-left"></i> Carousel Content</label>
                <textarea id="carouselContent" rows="6" placeholder="Enter content for your carousel (each line will be a separate slide)"></textarea>
                <small style="color: #666; margin-top: 5px; display: block;">Pro Tip: Use empty lines to create section breaks</small>
            </div>
            
            <div class="preview-container">
                <h3 class="preview-title"><i class="fas fa-eye"></i> Live Preview</h3>
                <div id="carouselPreview">
                    <div class="carousel-preview-slide" style="position: relative;">
                        <div class="slide-number">1</div>
                        <h3 id="previewTitle">Carousel Title</h3>
                        <p id="previewContent">Your carousel content will appear here</p>
                        <div class="user-name" id="previewName">By Your Name</div>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-outline" id="resetBtn">
                    <i class="fas fa-redo"></i> Reset
                </button>
                <button class="btn btn-secondary" id="saveDraftBtn">
                    <i class="fas fa-save"></i> Save Draft
                </button>
                <button class="btn btn-success" id="downloadBtn">
                    <i class="fas fa-download"></i> Create Carousel
                </button>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="footer-links">
            <a href="#" class="footer-link">About</a>
            <a href="#" class="footer-link">Features</a>
            <a href="#" class="footer-link">Pricing</a>
            <a href="#" class="footer-link">Blog</a>
            <a href="#" class="footer-link">Contact</a>
        </div>
        <p>&copy; 2025 ViralizeLab. All rights reserved. | Free to use • Pay to level up</p>
    </footer>

    <script>
        // Supabase Configuration
        const SUPABASE_URL = 'https://your-project.supabase.co'; // Replace with your Supabase URL
        const SUPABASE_ANON_KEY = 'your-anon-key'; // Replace with your Supabase anon key
        
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        
        // Crypto payment addresses (replace with your actual addresses)
        const CRYPTO_ADDRESSES = {
            'usdc': '0x742d35Cc6634C0532925a3b8D...',
            'usdt': '0x742d35Cc6634C0532925a3b8D...', 
            'btc': 'bc1qxy2kgdygjrsqtzq2n0yrf...',
            'eth': '0x742d35Cc6634C0532925a3b8D...'
        };
        
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const authModal = document.getElementById('authModal');
            const paymentModal = document.getElementById('paymentModal');
            const loginButton = document.getElementById('loginButton');
            const userInfo = document.getElementById('userInfo');
            const userCredits = document.getElementById('userCredits');
            const creditsBadge = document.getElementById('creditsBadge');
            const userAvatar = document.getElementById('userAvatar');
            const buyCreditsBtn = document.getElementById('buyCreditsBtn');
            const freeCreditsElement = document.getElementById('freeCredits');
            const freeCreditsCount = document.getElementById('freeCreditsCount');
            
            const customizeButtons = document.querySelectorAll('.customize-btn');
            const customizationPanel = document.getElementById('customizationPanel');
            const overlay = document.getElementById('overlay');
            const closePanel = document.getElementById('closePanel');
            const resetBtn = document.getElementById('resetBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const saveDraftBtn = document.getElementById('saveDraftBtn');
            const panelTitle = document.getElementById('panelTitle');
            const userName = document.getElementById('userName');
            const carouselTitle = document.getElementById('carouselTitle');
            const carouselStyle = document.getElementById('carouselStyle');
            const carouselContent = document.getElementById('carouselContent');
            const themeOptions = document.querySelectorAll('.theme-option');
            const previewTitle = document.getElementById('previewTitle');
            const previewContent = document.getElementById('previewContent');
            const previewName = document.getElementById('previewName');
            const carouselPreview = document.getElementById('carouselPreview');
            const creditsInfo = document.getElementById('creditsInfo');
            const creditsMessage = document.getElementById('creditsMessage');
            
            // Payment elements
            const paymentPlans = document.querySelectorAll('.payment-plan');
            const cryptoOptions = document.querySelectorAll('.crypto-option');
            const paymentDetails = document.getElementById('paymentDetails');
            const cryptoAmount = document.getElementById('cryptoAmount');
            const walletAddress = document.getElementById('walletAddress');
            const copyAddressBtn = document.getElementById('copyAddressBtn');
            const paymentStatus = document.getElementById('paymentStatus');
            const cancelPaymentBtn = document.getElementById('cancelPaymentBtn');
            const confirmPaymentBtn = document.getElementById('confirmPaymentBtn');
            
            let currentCarouselType = '';
            let currentCarouselCredits = 0;
            let isFreeCarousel = false;
            let currentUser = null;
            let userCreditBalance = 0;
            let freeCreditsBalance = 5; // Starting free credits
            
            let selectedPlan = null;
            let selectedCrypto = null;
            let paymentInterval = null;
            
            // Initialize auth state
            checkAuthState();
            
            // Auth State Listener
            supabase.auth.onAuthStateChange(async (event, session) => {
                if (event === 'SIGNED_IN' && session) {
                    currentUser = session.user;
                    await initializeUserProfile();
                    updateUIForAuthState(true);
                    authModal.classList.remove('active');
                } else if (event === 'SIGNED_OUT') {
                    currentUser = null;
                    updateUIForAuthState(false);
                }
            });
            
            // Auth Functions
            async function checkAuthState() {
                const { data: { session } } = await supabase.auth.getSession();
                if (session) {
                    currentUser = session.user;
                    await initializeUserProfile();
                    updateUIForAuthState(true);
                } else {
                    updateUIForAuthState(false);
                }
            }
            
            async function initializeUserProfile() {
                if (!currentUser) return;
                
                // Check if user profile exists, create if not
                const { data: profile, error } = await supabase
                    .from('profiles')
                    .select('*')
                    .eq('id', currentUser.id)
                    .single();
                
                if (error && error.code === 'PGRST116') {
                    // Profile doesn't exist, create one
                    const { error: insertError } = await supabase
                        .from('profiles')
                        .insert([
                            {
                                id: currentUser.id,
                                email: currentUser.email,
                                full_name: currentUser.user_metadata?.full_name || '',
                                credits: 0, // Start with 0 purchased credits
                                free_credits: 5, // 5 free credits for new users
                                created_at: new Date().toISOString()
                            }
                        ]);
                    
                    if (!insertError) {
                        userCreditBalance = 0;
                        freeCreditsBalance = 5;
                        updateCreditsDisplay();
                    }
                } else if (profile) {
                    userCreditBalance = profile.credits || 0;
                    freeCreditsBalance = profile.free_credits || 0;
                    updateCreditsDisplay();
                }
                
                // Update avatar with user initials
                const userName = currentUser.user_metadata?.full_name || currentUser.email;
                userAvatar.textContent = getUserInitials(userName);
            }
            
            function getUserInitials(name) {
                return name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
            }
            
            function updateUIForAuthState(isLoggedIn) {
                if (isLoggedIn) {
                    userInfo.style.display = 'flex';
                    loginButton.style.display = 'none';
                    updateRecentActivity();
                } else {
                    userInfo.style.display = 'none';
                    loginButton.style.display = 'block';
                }
            }
            
            function updateCreditsDisplay() {
                userCredits.textContent = userCreditBalance;
                freeCreditsElement.textContent = freeCreditsBalance;
                freeCreditsCount.textContent = freeCreditsBalance;
            }
            
            function updateRecentActivity() {
                const activityList = document.getElementById('recentActivity');
                if (currentUser) {
                    activityList.innerHTML = `
                        <li class="activity-item">
                            <div class="activity-title">Welcome to ViralizeLab!</div>
                            <div class="activity-time">You have ${freeCreditsBalance} free credits + ${userCreditBalance} purchased credits</div>
                        </li>
                        <li class="activity-item">
                            <div class="activity-title">Ready to create your first carousel?</div>
                            <div class="activity-time">Twitter carousels are completely free!</div>
                        </li>
                    `;
                }
            }
            
            // Auth Event Listeners
            loginButton.addEventListener('click', () => {
                authModal.classList.add('active');
            });
            
            creditsBadge.addEventListener('click', () => {
                if (currentUser) {
                    paymentModal.classList.add('active');
                    overlay.classList.add('active');
                }
            });
            
            // Payment Event Listeners
            buyCreditsBtn.addEventListener('click', () => {
                if (!currentUser) {
                    authModal.classList.add('active');
                    return;
                }
                paymentModal.classList.add('active');
                overlay.classList.add('active');
            });
            
            paymentPlans.forEach(plan => {
                plan.addEventListener('click', () => {
                    paymentPlans.forEach(p => p.classList.remove('selected'));
                    plan.classList.add('selected');
                    selectedPlan = {
                        credits: parseInt(plan.getAttribute('data-credits')),
                        price: parseInt(plan.getAttribute('data-price'))
                    };
                    updatePaymentDetails();
                });
            });
            
            cryptoOptions.forEach(option => {
                option.addEventListener('click', () => {
                    cryptoOptions.forEach(o => o.classList.remove('selected'));
                    option.classList.add('selected');
                    selectedCrypto = option.getAttribute('data-method');
                    updatePaymentDetails();
                });
            });
            
            function updatePaymentDetails() {
                if (selectedPlan && selectedCrypto) {
                    paymentDetails.style.display = 'block';
                    cryptoAmount.value = `${selectedPlan.price} ${selectedCrypto.toUpperCase()}`;
                    walletAddress.value = CRYPTO_ADDRESSES[selectedCrypto];
                    confirmPaymentBtn.disabled = false;
                    
                    // Start payment monitoring
                    startPaymentMonitoring();
                } else {
                    paymentDetails.style.display = 'none';
                    confirmPaymentBtn.disabled = true;
                }
            }
            
            copyAddressBtn.addEventListener('click', () => {
                walletAddress.select();
                document.execCommand('copy');
                alert('Wallet address copied to clipboard!');
            });
            
            function startPaymentMonitoring() {
                if (paymentInterval) clearInterval(paymentInterval);
                
                paymentInterval = setInterval(async () => {
                    // In a real implementation, this would check blockchain for transactions
                    // For demo purposes, we'll simulate payment detection
                    const paymentDetected = Math.random() < 0.1; // 10% chance per check
                    
                    if (paymentDetected) {
                        clearInterval(paymentInterval);
                        paymentStatus.innerHTML = '<i class="fas fa-check-circle"></i> Payment confirmed! Adding credits...';
                        paymentStatus.style.background = '#d4edda';
                        paymentStatus.style.color = '#155724';
                        
                        // Add credits to user account
                        await addCreditsToUser(selectedPlan.credits);
                        
                        setTimeout(() => {
                            paymentModal.classList.remove('active');
                            overlay.classList.remove('active');
                            resetPaymentModal();
                        }, 2000);
                    }
                }, 3000); // Check every 3 seconds
            }
            
            async function addCreditsToUser(credits) {
                if (!currentUser) return;
                
                const { error } = await supabase
                    .from('profiles')
                    .update({ credits: userCreditBalance + credits })
                    .eq('id', currentUser.id);
                
                if (!error) {
                    userCreditBalance += credits;
                    updateCreditsDisplay();
                    updateRecentActivity();
                    
                    // Record transaction
                    await supabase
                        .from('transactions')
                        .insert([
                            {
                                user_id: currentUser.id,
                                type: 'purchase',
                                credits: credits,
                                amount: selectedPlan.price,
                                currency: 'USD',
                                crypto_method: selectedCrypto,
                                status: 'completed',
                                created_at: new Date().toISOString()
                            }
                        ]);
                }
            }
            
            function resetPaymentModal() {
                paymentPlans.forEach(p => p.classList.remove('selected'));
                cryptoOptions.forEach(o => o.classList.remove('selected'));
                paymentDetails.style.display = 'none';
                selectedPlan = null;
                selectedCrypto = null;
                confirmPaymentBtn.disabled = true;
                paymentStatus.innerHTML = '<i class="fas fa-clock"></i> Waiting for payment...';
                paymentStatus.style.background = '#fff3cd';
                paymentStatus.style.color = '#856404';
                
                if (paymentInterval) {
                    clearInterval(paymentInterval);
                    paymentInterval = null;
                }
            }
            
            cancelPaymentBtn.addEventListener('click', () => {
                paymentModal.classList.remove('active');
                overlay.classList.remove('active');
                resetPaymentModal();
            });
            
            confirmPaymentBtn.addEventListener('click', () => {
                // This would typically open a crypto wallet or show QR code
                alert(`Please send exactly ${selectedPlan.price} ${selectedCrypto.toUpperCase()} to the address shown. We'll automatically detect your payment and add ${selectedPlan.credits} credits to your account.`);
            });
            
            // Open customization panel
            customizeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    if (!currentUser) {
                        authModal.classList.add('active');
                        return;
                    }
                    
                    currentCarouselType = this.getAttribute('data-type');
                    currentCarouselCredits = parseInt(this.getAttribute('data-credits'));
                    isFreeCarousel = this.getAttribute('data-free') === 'true';
                    
                    // Check credits for non-free carousels
                    if (!isFreeCarousel) {
                        const totalCredits = userCreditBalance + freeCreditsBalance;
                        if (totalCredits < currentCarouselCredits) {
                            alert(`You need ${currentCarouselCredits} credits to create this carousel. You have ${totalCredits} credits available.`);
                            return;
                        }
                    }
                    
                    customizationPanel.classList.add('active');
                    overlay.classList.add('active');
                    document.body.style.overflow = 'hidden';
                    
                    // Show credits info
                    creditsInfo.style.display = 'block';
                    if (isFreeCarousel) {
                        creditsMessage.textContent = 'This is a free carousel creation!';
                        creditsInfo.style.background = '#d4edda';
                    } else {
                        creditsMessage.textContent = `This will use ${currentCarouselCredits} credits. You have ${freeCreditsBalance} free credits + ${userCreditBalance} purchased credits available.`;
                        creditsInfo.style.background = var('--light');
                    }
                    
                    // Set panel title based on carousel type
                    const typeNames = {
                        'twitter': 'Twitter Carousel',
                        'linkedin': 'LinkedIn Visuals', 
                        'meeting': 'Meeting Summary'
                    };
                    
                    panelTitle.textContent = `Customize ${typeNames[currentCarouselType]}`;
                    
                    // Set default content based on carousel type
                    const defaultContent = {
                        'twitter': 'Engaging content for Twitter\n\nSecond slide with more details\n\nThird slide with call to action',
                        'linkedin': 'Professional content for LinkedIn\n\nKey insights and takeaways\n\nIndustry trends and analysis',
                        'meeting': 'Meeting agenda and objectives\n\nKey discussion points and decisions\n\nAction items and next steps'
                    };
                    
                    carouselContent.value = defaultContent[currentCarouselType];
                    updatePreview();
                });
            });
            
            // Close customization panel
            function closeCustomizationPanel() {
                customizationPanel.classList.remove('active');
                overlay.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
            
            closePanel.addEventListener('click', closeCustomizationPanel);
            overlay.addEventListener('click', closeCustomizationPanel);
            
            // Reset form
            resetBtn.addEventListener('click', function() {
                if (confirm('Are you sure you want to reset all changes?')) {
                    userName.value = '';
                    carouselTitle.value = '';
                    carouselStyle.value = 'modern';
                    carouselContent.value = '';
                    document.querySelector('.theme-option.selected').classList.remove('selected');
                    document.querySelector('.theme-option[data-theme="blue"]').classList.add('selected');
                    updatePreview();
                }
            });
            
            // Save draft
            saveDraftBtn.addEventListener('click', async function() {
                if (!currentUser) {
                    authModal.classList.add('active');
                    return;
                }
                
                if (!userName.value.trim()) {
                    alert('Please enter your name before saving');
                    return;
                }
                
                // Save to Supabase
                const { error } = await supabase
                    .from('drafts')
                    .insert([
                        {
                            user_id: currentUser.id,
                            carousel_type: currentCarouselType,
                            title: carouselTitle.value,
                            content: carouselContent.value,
                            theme: document.querySelector('.theme-option.selected').getAttribute('data-theme'),
                            style: carouselStyle.value,
                            created_at: new Date().toISOString()
                        }
                    ]);
                
                if (error) {
                    alert('Error saving draft: ' + error.message);
                } else {
                    alert('Draft saved successfully!');
                }
            });
            
            // Theme selection
            themeOptions.forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelector('.theme-option.selected').classList.remove('selected');
                    this.classList.add('selected');
                    updatePreview();
                });
            });
            
            // Update preview in real-time
            userName.addEventListener('input', updatePreview);
            carouselTitle.addEventListener('input', updatePreview);
            carouselStyle.addEventListener('change', updatePreview);
            carouselContent.addEventListener('input', updatePreview);
            
            // Create carousel (uses credits if applicable)
            downloadBtn.addEventListener('click', async function() {
                if (!currentUser) {
                    authModal.classList.add('active');
                    return;
                }
                
                if (!userName.value.trim()) {
                    alert('Please enter your name before creating');
                    return;
                }
                
                if (!carouselTitle.value.trim()) {
                    alert('Please enter a carousel title before creating');
                    return;
                }
                
                // Handle credits for non-free carousels
                if (!isFreeCarousel) {
                    const totalCredits = userCreditBalance + freeCreditsBalance;
                    if (totalCredits < currentCarouselCredits) {
                        alert(`You need ${currentCarouselCredits} credits to create this carousel. You have ${totalCredits} credits available.`);
                        return;
                    }
                    
                    // Deduct credits (use free credits first)
                    let creditsToDeduct = currentCarouselCredits;
                    let newFreeCredits = freeCreditsBalance;
                    let newPurchasedCredits = userCreditBalance;
                    
                    if (freeCreditsBalance >= creditsToDeduct) {
                        newFreeCredits = freeCreditsBalance - creditsToDeduct;
                    } else {
                        creditsToDeduct -= freeCreditsBalance;
                        newFreeCredits = 0;
                        newPurchasedCredits = userCreditBalance - creditsToDeduct;
                    }
                    
                    const { error } = await supabase
                        .from('profiles')
                        .update({ 
                            free_credits: newFreeCredits,
                            credits: newPurchasedCredits
                        })
                        .eq('id', currentUser.id);
                    
                    if (error) {
                        alert('Error processing credits: ' + error.message);
                        return;
                    }
                    
                    // Update local credit balances
                    freeCreditsBalance = newFreeCredits;
                    userCreditBalance = newPurchasedCredits;
                    updateCreditsDisplay();
                }
                
                // Save carousel to history
                await supabase
                    .from('carousel_history')
                    .insert([
                        {
                            user_id: currentUser.id,
                            carousel_type: currentCarouselType,
                            title: carouselTitle.value,
                            content: carouselContent.value,
                            theme: document.querySelector('.theme-option.selected').getAttribute('data-theme'),
                            style: carouselStyle.value,
                            credits_used: isFreeCarousel ? 0 : currentCarouselCredits,
                            is_free: isFreeCarousel,
                            created_at: new Date().toISOString()
                        }
                    ]);
                
                // Show loading state
                downloadBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating...';
                downloadBtn.disabled = true;
                
                // Simulate creation process
                setTimeout(() => {
                    const creditMessage = isFreeCarousel ? '' : ` (${currentCarouselCredits} credits used)`;
                    alert(`Your ${currentCarouselType} carousel has been created successfully!${creditMessage}`);
                    downloadBtn.innerHTML = '<i class="fas fa-download"></i> Create Carousel';
                    downloadBtn.disabled = false;
                    
                    // Update recent activity
                    updateRecentActivity();
                    
                    // Close panel after creation
                    closeCustomizationPanel();
                }, 2000);
            });
            
            // Update preview function
            function updatePreview() {
                previewTitle.textContent = carouselTitle.value || 'Carousel Title';
                previewName.textContent = userName.value ? `By ${userName.value}` : 'By Your Name';
                
                // Update carousel slides based on content
                const contentSections = carouselContent.value.split('\n\n');
                carouselPreview.innerHTML = '';
                
                if (contentSections.length === 0 || (contentSections.length === 1 && !contentSections[0].trim())) {
                    const slide = createSlide(1, previewTitle.textContent, 'Your carousel content will appear here', previewName.textContent);
                    carouselPreview.appendChild(slide);
                } else {
                    contentSections.forEach((section, index) => {
                        const title = index === 0 ? previewTitle.textContent : `Slide ${index + 1}`;
                        const name = index === contentSections.length - 1 ? previewName.textContent : '';
                        const slide = createSlide(index + 1, title, section, name);
                        carouselPreview.appendChild(slide);
                    });
                }
                
                // Apply selected theme
                const selectedTheme = document.querySelector('.theme-option.selected').getAttribute('data-theme');
                const slides = document.querySelectorAll('.carousel-preview-slide');
                
                slides.forEach(slide => {
                    slide.style.background = getThemeBackground(selectedTheme);
                    slide.style.color = 'white';
                });
            }
            
            function createSlide(number, title, content, name) {
                const slide = document.createElement('div');
                slide.className = 'carousel-preview-slide';
                slide.style.position = 'relative';
                
                const slideNumber = document.createElement('div');
                slideNumber.className = 'slide-number';
                slideNumber.textContent = number.toString();
                
                const titleEl = document.createElement('h3');
                titleEl.textContent = title;
                
                const contentEl = document.createElement('p');
                contentEl.textContent = content;
                
                const nameEl = document.createElement('div');
                nameEl.className = 'user-name';
                nameEl.textContent = name;
                
                slide.appendChild(slideNumber);
                slide.appendChild(titleEl);
                slide.appendChild(contentEl);
                slide.appendChild(nameEl);
                
                return slide;
            }
            
            function getThemeBackground(theme) {
                const themes = {
                    'blue': 'linear-gradient(135deg, #4361ee, #3a0ca3)',
                    'teal': 'linear-gradient(135deg, #4cc9f0, #4895ef)',
                    'purple': 'linear-gradient(135deg, #7209b7, #560bad)',
                    'sunset': 'linear-gradient(135deg, #f72585, #b5179e)',
                    'forest': 'linear-gradient(135deg, #2a9d8f, #264653)',
                    'fire': 'linear-gradient(135deg, #f8961e, #e36414)'
                };
                
                return themes[theme] || themes['blue'];
            }
            
            // Initialize
            updatePreview();
            updateCreditsDisplay();
        });
    </script>
</body>
</html>